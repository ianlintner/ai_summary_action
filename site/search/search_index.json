{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"AI Workflow Failure Summary Action","text":"![AI Workflow Failure Summary](https://img.shields.io/badge/AI-Powered-blue?style=for-the-badge) ![GitHub Action](https://img.shields.io/badge/GitHub-Action-green?style=for-the-badge) ![License](https://img.shields.io/badge/License-MIT-yellow?style=for-the-badge)  **Intelligent debugging assistant for GitHub Actions**  [Quick Start](quickstart.md){ .md-button .md-button--primary } [View on GitHub](https://github.com/ianlintner/ai_summary_action){ .md-button }"},{"location":"#overview","title":"Overview","text":"<p>AI Workflow Failure Summary Action is a powerful GitHub Action that automatically analyzes failed workflow runs using advanced AI models. It transforms cryptic error logs into clear, actionable summaries that help developers quickly understand and resolve issues.</p> <pre><code>graph LR\n    A[Workflow Fails] --&gt; B[Action Triggered]\n    B --&gt; C[Fetch Logs]\n    C --&gt; D[AI Analysis]\n    D --&gt; E[Generate Summary]\n    E --&gt; F[Create Issue]\n    E --&gt; G[Display in Actions]\n    F --&gt; H[Notify Team]\n    G --&gt; I[Debug &amp; Fix]</code></pre>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#ai-powered-analysis","title":"\ud83e\udd16 AI-Powered Analysis","text":"<p>Uses state-of-the-art LLM models to understand failure context and provide intelligent insights beyond simple log parsing.</p>"},{"location":"#multiple-llm-providers","title":"\ud83d\udd0c Multiple LLM Providers","text":"<p>Choose from OpenAI, Azure OpenAI, GitHub Models, or Anthropic Claude - whatever fits your needs and budget.</p>"},{"location":"#actionable-insights","title":"\ud83d\udcca Actionable Insights","text":"<p>Get structured summaries with: - Root cause identification - Specific error details and locations - Step-by-step fix recommendations - Related context and dependencies</p>"},{"location":"#seamless-github-integration","title":"\ud83c\udfaf Seamless GitHub Integration","text":"<ul> <li>Automatic issue creation with formatted analysis</li> <li>Integration with GitHub Actions summary</li> <li>Works with GitHub Copilot for enhanced assistance</li> </ul>"},{"location":"#copilot-ready","title":"\ud83d\udd0d Copilot Ready","text":"<p>Output is optimized for GitHub Copilot, making it easy to: - Get AI-powered fix suggestions - Understand complex error patterns - Navigate to problematic code sections</p>"},{"location":"#highly-customizable","title":"\u2699\ufe0f Highly Customizable","text":"<ul> <li>Custom prompt templates via <code>.github/prompts/</code></li> <li>Configurable log line limits</li> <li>Flexible issue creation options</li> <li>Multiple output formats</li> </ul>"},{"location":"#why-use-this-action","title":"Why Use This Action?","text":"<p>Before: <pre><code>Error: Command failed with exit code 1\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\n[147 more lines of logs...]\n</code></pre></p> <p>After: <pre><code>## Summary\nYour test suite failed due to a missing environment variable.\n\n## Root Cause\nThe `DATABASE_URL` environment variable is not set in the workflow,\ncausing the database connection to fail during integration tests.\n\n## Recommended Actions\n1. Add DATABASE_URL to your workflow environment\n2. Or add it to repository secrets\n3. Ensure the test database is accessible from Actions runners\n\n## Error Location\n- File: test/integration/db.test.js:15\n- Error: `DATABASE_URL is not defined`\n</code></pre></p>"},{"location":"#how-it-works","title":"How It Works","text":"<pre><code>sequenceDiagram\n    participant W as Workflow\n    participant A as AI Action\n    participant GH as GitHub API\n    participant LLM as LLM Provider\n    participant I as Issues\n\n    W-&gt;&gt;W: Workflow Fails\n    W-&gt;&gt;A: Trigger Analysis\n    A-&gt;&gt;GH: Fetch Failed Job Logs\n    GH--&gt;&gt;A: Return Logs\n    A-&gt;&gt;A: Process &amp; Format Logs\n    A-&gt;&gt;LLM: Send for Analysis\n    LLM--&gt;&gt;A: Return AI Summary\n    A-&gt;&gt;GH: Post to Actions Summary\n    A-&gt;&gt;I: Create Issue (optional)\n    I--&gt;&gt;W: Link Issue to Run</code></pre>"},{"location":"#quick-example","title":"Quick Example","text":".github/workflows/ci.yml<pre><code>name: CI with AI Analysis\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - run: npm test\n\n  analyze-failure:\n    if: failure()\n    needs: [test]\n    runs-on: ubuntu-latest\n    steps:\n      - uses: ianlintner/ai_summary_action@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          llm-provider: 'openai'\n          openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n          create-issue: 'true'\n</code></pre>"},{"location":"#whats-next","title":"What's Next?","text":"<ul> <li> <p> Quick Start Guide</p> <p>Get up and running in 5 minutes with a drop-in workflow</p> </li> <li> <p> Configuration</p> <p>Learn about all available options and customization</p> </li> <li> <p> Custom Prompts</p> <p>Tailor AI analysis to your specific needs and tech stack</p> </li> <li> <p> GitHub Copilot Integration</p> <p>Supercharge debugging with Copilot assistance</p> </li> </ul>"},{"location":"#community-support","title":"Community &amp; Support","text":"<ul> <li>\ud83d\udcd6 Full Documentation</li> <li>\ud83d\udc1b Report Issues</li> <li>\ud83d\udca1 Request Features</li> <li>\ud83e\udd1d Contributing Guide</li> </ul>"},{"location":"#license","title":"License","text":"<p>This project is licensed under the MIT License - see the LICENSE file for details.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"Unreleased","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Custom prompt support via <code>.github/prompts/</code> directory</li> <li>MkDocs documentation with GitHub Pages deployment</li> <li>Comprehensive documentation including:</li> <li>Quick start guide</li> <li>Installation instructions</li> <li>Configuration reference</li> <li>Custom prompts guide</li> <li>GitHub Copilot integration guide</li> <li>Architecture documentation with Mermaid diagrams</li> <li>Security best practices</li> <li>Troubleshooting guide</li> <li>Example prompt templates in <code>.github/prompts/</code></li> <li>Community health files (CODE_OF_CONDUCT, issue templates, PR template)</li> <li>Enhanced README with badges and better structure</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Improved documentation structure and organization</li> <li>Enhanced CONTRIBUTING.md with detailed development workflow</li> </ul>"},{"location":"changelog/#100-2024-12-10","title":"1.0.0 - 2024-12-10","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Initial release of AI Workflow Failure Summary Action</li> <li>Support for multiple LLM providers:</li> <li>OpenAI (GPT-4o, GPT-4o-mini)</li> <li>Azure OpenAI</li> <li>GitHub Models</li> <li>Anthropic Claude</li> <li>Automatic workflow failure analysis</li> <li>GitHub issue creation with AI summaries</li> <li>GitHub Actions summary integration</li> <li>Configurable log line limits</li> <li>Action outputs for summary, failed jobs, and issue URL</li> </ul>"},{"location":"changelog/#features","title":"Features","text":"<ul> <li>AI-powered root cause analysis</li> <li>Structured error reporting</li> <li>Actionable fix recommendations</li> <li>Integration with GitHub Copilot</li> <li>Secure API key handling via GitHub Secrets</li> </ul>"},{"location":"changelog/#010-2024-12-01","title":"0.1.0 - 2024-12-01","text":""},{"location":"changelog/#added_2","title":"Added","text":"<ul> <li>Initial prototype</li> <li>Basic OpenAI integration</li> <li>Simple log extraction</li> </ul>"},{"location":"configuration/","title":"Configuration Reference","text":"<p>Complete reference for all configuration options available in the AI Workflow Failure Summary Action.</p>"},{"location":"configuration/#input-parameters","title":"Input Parameters","text":""},{"location":"configuration/#required-inputs","title":"Required Inputs","text":""},{"location":"configuration/#github-token","title":"<code>github-token</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: Yes</li> <li>Default: <code>${{ github.token }}</code></li> <li>Description: GitHub token for accessing workflow logs and creating issues</li> </ul> <pre><code>github-token: ${{ secrets.GITHUB_TOKEN }}\n</code></pre>"},{"location":"configuration/#llm-provider-configuration","title":"LLM Provider Configuration","text":""},{"location":"configuration/#llm-provider","title":"<code>llm-provider</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: No</li> <li>Default: <code>openai</code></li> <li>Options: <code>openai</code>, <code>azure-openai</code>, <code>github-models</code>, <code>anthropic</code></li> <li>Description: Which LLM provider to use for analysis</li> </ul> <pre><code>llm-provider: 'openai'\n</code></pre>"},{"location":"configuration/#openai-configuration","title":"OpenAI Configuration","text":""},{"location":"configuration/#openai-api-key","title":"<code>openai-api-key</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: When using OpenAI provider</li> <li>Description: OpenAI API key</li> </ul> <pre><code>openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n</code></pre>"},{"location":"configuration/#openai-model","title":"<code>openai-model</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: No</li> <li>Default: <code>gpt-4o-mini</code></li> <li>Options: Any OpenAI chat model (e.g., <code>gpt-4o</code>, <code>gpt-4o-mini</code>, <code>gpt-4-turbo</code>)</li> <li>Description: OpenAI model to use for analysis</li> </ul> <pre><code>openai-model: 'gpt-4o'\n</code></pre>"},{"location":"configuration/#azure-openai-configuration","title":"Azure OpenAI Configuration","text":""},{"location":"configuration/#azure-openai-api-key","title":"<code>azure-openai-api-key</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: When using Azure OpenAI provider</li> <li>Description: Azure OpenAI API key</li> </ul> <pre><code>azure-openai-api-key: ${{ secrets.AZURE_OPENAI_API_KEY }}\n</code></pre>"},{"location":"configuration/#azure-openai-endpoint","title":"<code>azure-openai-endpoint</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: When using Azure OpenAI provider</li> <li>Description: Azure OpenAI endpoint URL</li> </ul> <pre><code>azure-openai-endpoint: 'https://your-resource.openai.azure.com'\n</code></pre>"},{"location":"configuration/#azure-openai-deployment","title":"<code>azure-openai-deployment</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: When using Azure OpenAI provider</li> <li>Description: Azure OpenAI deployment name</li> </ul> <pre><code>azure-openai-deployment: 'gpt-4o-deployment'\n</code></pre>"},{"location":"configuration/#github-models-configuration","title":"GitHub Models Configuration","text":""},{"location":"configuration/#github-models-token","title":"<code>github-models-token</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: When using GitHub Models provider</li> <li>Description: GitHub PAT with model access (can use <code>GITHUB_TOKEN</code>)</li> </ul> <pre><code>github-models-token: ${{ secrets.GITHUB_TOKEN }}\n</code></pre>"},{"location":"configuration/#github-models-model","title":"<code>github-models-model</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: No</li> <li>Default: <code>gpt-4o</code></li> <li>Options: <code>gpt-4o</code>, <code>gpt-4o-mini</code>, <code>claude-3-5-sonnet</code>, etc.</li> <li>Description: GitHub Models model to use</li> </ul> <pre><code>github-models-model: 'gpt-4o'\n</code></pre>"},{"location":"configuration/#anthropic-configuration","title":"Anthropic Configuration","text":""},{"location":"configuration/#anthropic-api-key","title":"<code>anthropic-api-key</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: When using Anthropic provider</li> <li>Description: Anthropic API key</li> </ul> <pre><code>anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n</code></pre>"},{"location":"configuration/#anthropic-model","title":"<code>anthropic-model</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: No</li> <li>Default: <code>claude-3-5-sonnet-20241022</code></li> <li>Options: <code>claude-3-5-sonnet-20241022</code>, <code>claude-3-opus-20240229</code>, etc.</li> <li>Description: Anthropic model to use</li> </ul> <pre><code>anthropic-model: 'claude-3-5-sonnet-20241022'\n</code></pre>"},{"location":"configuration/#analysis-configuration","title":"Analysis Configuration","text":""},{"location":"configuration/#max-log-lines","title":"<code>max-log-lines</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: No</li> <li>Default: <code>500</code></li> <li>Description: Maximum number of log lines to analyze per failed job</li> </ul> <pre><code>max-log-lines: '1000'\n</code></pre> <p>Token Limits</p> <p>Higher values provide more context but use more tokens. Consider your LLM's context window and costs.</p>"},{"location":"configuration/#issue-creation","title":"Issue Creation","text":""},{"location":"configuration/#create-issue","title":"<code>create-issue</code>","text":"<ul> <li>Type: <code>string</code> (boolean)</li> <li>Required: No</li> <li>Default: <code>false</code></li> <li>Options: <code>true</code>, <code>false</code></li> <li>Description: Whether to create a GitHub issue with the analysis</li> </ul> <pre><code>create-issue: 'true'\n</code></pre>"},{"location":"configuration/#issue-label","title":"<code>issue-label</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: No</li> <li>Default: <code>ai-analysis</code></li> <li>Description: Label to add to created issues</li> </ul> <pre><code>issue-label: 'automated-analysis'\n</code></pre>"},{"location":"configuration/#custom-prompts","title":"Custom Prompts","text":""},{"location":"configuration/#custom-system-prompt","title":"<code>custom-system-prompt</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: No</li> <li>Description: Custom system prompt or path to prompt file</li> </ul> <pre><code>custom-system-prompt: '.github/prompts/system-prompt.md'\n# or inline:\ncustom-system-prompt: 'You are a Python expert analyzing pytest failures...'\n</code></pre>"},{"location":"configuration/#custom-user-prompt","title":"<code>custom-user-prompt</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Required: No</li> <li>Description: Custom user prompt template or path to prompt file</li> </ul> <pre><code>custom-user-prompt: '.github/prompts/user-prompt.md'\n</code></pre> <p>See Custom Prompts for details.</p>"},{"location":"configuration/#output-parameters","title":"Output Parameters","text":""},{"location":"configuration/#summary","title":"<code>summary</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Description: AI-generated summary of workflow failures</li> </ul> <pre><code>- id: analyze\n  uses: ianlintner/ai_summary_action@v1\n  # ... inputs\n\n- name: Use Summary\n  run: echo \"${{ steps.analyze.outputs.summary }}\"\n</code></pre>"},{"location":"configuration/#failed-jobs","title":"<code>failed-jobs</code>","text":"<ul> <li>Type: <code>string</code> (JSON array)</li> <li>Description: Array of failed job names</li> </ul> <pre><code>- name: List Failed Jobs\n  run: echo \"${{ steps.analyze.outputs.failed-jobs }}\"\n</code></pre>"},{"location":"configuration/#issue-url","title":"<code>issue-url</code>","text":"<ul> <li>Type: <code>string</code></li> <li>Description: URL of created issue (only when <code>create-issue</code> is <code>true</code>)</li> </ul> <pre><code>- name: Link to Issue\n  if: steps.analyze.outputs.issue-url\n  run: echo \"Issue created: ${{ steps.analyze.outputs.issue-url }}\"\n</code></pre>"},{"location":"configuration/#complete-configuration-examples","title":"Complete Configuration Examples","text":""},{"location":"configuration/#minimal-configuration","title":"Minimal Configuration","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n</code></pre>"},{"location":"configuration/#recommended-configuration","title":"Recommended Configuration","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    llm-provider: 'openai'\n    openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n    openai-model: 'gpt-4o-mini'\n    max-log-lines: '500'\n    create-issue: 'true'\n    issue-label: 'ci-failure'\n</code></pre>"},{"location":"configuration/#advanced-configuration","title":"Advanced Configuration","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    llm-provider: 'anthropic'\n    anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}\n    anthropic-model: 'claude-3-5-sonnet-20241022'\n    max-log-lines: '1000'\n    create-issue: 'true'\n    issue-label: 'automated-analysis'\n    custom-system-prompt: '.github/prompts/system-prompt.md'\n    custom-user-prompt: '.github/prompts/user-prompt.md'\n</code></pre>"},{"location":"configuration/#environment-variables","title":"Environment Variables","text":"<p>The action respects these environment variables:</p> <ul> <li><code>GITHUB_WORKSPACE</code>: Used to resolve relative paths for custom prompts</li> <li><code>GITHUB_TOKEN</code>: Can be used implicitly via <code>${{ github.token }}</code></li> </ul>"},{"location":"configuration/#permissions","title":"Permissions","text":"<p>Required workflow permissions:</p> <pre><code>permissions:\n  actions: read       # Required: Read workflow logs\n  contents: read      # Required: Access repository\n  issues: write       # Optional: Only if create-issue is true\n</code></pre>"},{"location":"configuration/#best-practices","title":"Best Practices","text":""},{"location":"configuration/#cost-optimization","title":"Cost Optimization","text":"<pre><code># Use smaller, cheaper models for most analysis\nopenai-model: 'gpt-4o-mini'\nmax-log-lines: '500'\n\n# Or use free GitHub Models\nllm-provider: 'github-models'\ngithub-models-token: ${{ secrets.GITHUB_TOKEN }}\n</code></pre>"},{"location":"configuration/#quality-optimization","title":"Quality Optimization","text":"<pre><code># Use more powerful models for better analysis\nllm-provider: 'anthropic'\nanthropic-model: 'claude-3-5-sonnet-20241022'\nmax-log-lines: '1000'\ncustom-system-prompt: '.github/prompts/detailed-analysis.md'\n</code></pre>"},{"location":"configuration/#security","title":"Security","text":"<pre><code># Never hardcode API keys\nopenai-api-key: ${{ secrets.OPENAI_API_KEY }}  # \u2705 Good\n\n# Don't do this:\n# openai-api-key: 'sk-...'  # \u274c Bad\n</code></pre>"},{"location":"configuration/#troubleshooting-configuration","title":"Troubleshooting Configuration","text":"<p>See the Troubleshooting Guide for common configuration issues.</p>"},{"location":"contributing/","title":"Contributing to AI Workflow Failure Summary Action","text":"<p>Thank you for your interest in contributing! This document provides guidelines and information for contributors.</p>"},{"location":"contributing/#table-of-contents","title":"\ud83d\udccb Table of Contents","text":"<ul> <li>Code of Conduct</li> <li>Getting Started</li> <li>Development Setup</li> <li>Making Changes</li> <li>Testing</li> <li>Submitting Changes</li> <li>Documentation</li> <li>Release Process</li> </ul>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>This project adheres to a Code of Conduct that all contributors are expected to follow. Please read CODE_OF_CONDUCT.md before contributing.</p>"},{"location":"contributing/#getting-started","title":"Getting Started","text":""},{"location":"contributing/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 20 or higher</li> <li>npm 9 or higher</li> <li>Git</li> <li>A GitHub account</li> </ul>"},{"location":"contributing/#finding-issues-to-work-on","title":"Finding Issues to Work On","text":"<ul> <li>Check the issue tracker</li> <li>Look for issues labeled <code>good first issue</code> for beginner-friendly tasks</li> <li>Issues labeled <code>help wanted</code> are great for contributions</li> <li>Feel free to create new issues for bugs or feature requests</li> </ul>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<ol> <li>Fork and Clone</li> </ol> <pre><code># Fork on GitHub, then:\ngit clone https://github.com/YOUR_USERNAME/ai_summary_action.git\ncd ai_summary_action\n</code></pre> <ol> <li>Install Dependencies</li> </ol> <pre><code>npm install\n</code></pre> <ol> <li>Set Up Environment</li> </ol> <p>Create a <code>.env</code> file for local testing (never commit this):</p> <pre><code>INPUT_GITHUB_TOKEN=your_github_token\nINPUT_LLM_PROVIDER=openai\nINPUT_OPENAI_API_KEY=your_openai_key\n</code></pre>"},{"location":"contributing/#project-structure","title":"Project Structure","text":"<pre><code>ai_summary_action/\n\u251c\u2500\u2500 .github/\n\u2502   \u251c\u2500\u2500 workflows/          # GitHub Actions workflows\n\u2502   \u2514\u2500\u2500 prompts/           # Example prompt templates\n\u251c\u2500\u2500 docs/                  # MkDocs documentation\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 index.ts          # Main entry point\n\u2502   \u251c\u2500\u2500 analyzer.ts       # AI analysis logic\n\u2502   \u2514\u2500\u2500 github-client.ts  # GitHub API interactions\n\u251c\u2500\u2500 dist/                 # Compiled JavaScript (committed)\n\u251c\u2500\u2500 action.yml            # Action metadata\n\u251c\u2500\u2500 mkdocs.yml           # MkDocs configuration\n\u251c\u2500\u2500 package.json         # Node.js dependencies\n\u2514\u2500\u2500 tsconfig.json        # TypeScript configuration\n</code></pre>"},{"location":"contributing/#making-changes","title":"Making Changes","text":""},{"location":"contributing/#branch-naming","title":"Branch Naming","text":"<p>Use descriptive branch names:</p> <pre><code># Features\ngit checkout -b feature/add-custom-prompts\ngit checkout -b feature/support-new-llm\n\n# Bug fixes\ngit checkout -b fix/issue-123-log-parsing\ngit checkout -b fix/timeout-error\n\n# Documentation\ngit checkout -b docs/improve-quickstart\ngit checkout -b docs/add-examples\n</code></pre>"},{"location":"contributing/#code-style","title":"Code Style","text":"<p>We use automated formatting and linting:</p> <pre><code># Format code\nnpm run format\n\n# Check formatting\nnpm run format-check\n\n# Lint code\nnpm run lint\n</code></pre> <p>Key Conventions: - Use TypeScript for all new code - Follow existing code patterns - Add JSDoc comments for public functions - Use meaningful variable names - Keep functions small and focused</p>"},{"location":"contributing/#commit-messages","title":"Commit Messages","text":"<p>Follow the Conventional Commits specification:</p> <pre><code># Features\ngit commit -m \"feat: add custom prompt support\"\ngit commit -m \"feat(analyzer): support streaming responses\"\n\n# Fixes\ngit commit -m \"fix: resolve log truncation issue\"\ngit commit -m \"fix(github-client): handle rate limiting\"\n\n# Documentation\ngit commit -m \"docs: improve installation guide\"\ngit commit -m \"docs(api): add examples for custom prompts\"\n\n# Chores\ngit commit -m \"chore: update dependencies\"\ngit commit -m \"chore(ci): improve workflow performance\"\n</code></pre>"},{"location":"contributing/#testing","title":"Testing","text":""},{"location":"contributing/#build-the-action","title":"Build the Action","text":"<pre><code>npm run build\n</code></pre> <p>This compiles TypeScript and bundles everything into <code>dist/index.js</code>.</p>"},{"location":"contributing/#local-testing","title":"Local Testing","text":"<p>Test the action locally:</p> <pre><code># Set environment variables\nexport INPUT_GITHUB_TOKEN=\"...\"\nexport INPUT_LLM_PROVIDER=\"openai\"\nexport INPUT_OPENAI_API_KEY=\"...\"\n\n# Run the action\nnode dist/index.js\n</code></pre>"},{"location":"contributing/#testing-in-a-workflow","title":"Testing in a Workflow","text":"<p>Create a test workflow in your fork:</p> <pre><code>name: Test Changes\n\non:\n  workflow_dispatch:\n\njobs:\n  fail-test:\n    runs-on: ubuntu-latest\n    steps:\n      - run: exit 1\n\n  test-action:\n    runs-on: ubuntu-latest\n    if: failure()\n    needs: [fail-test]\n    steps:\n      - uses: actions/checkout@v4\n      - uses: ./\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n</code></pre>"},{"location":"contributing/#automated-tests","title":"Automated Tests","text":"<p>Run existing tests (when available):</p> <pre><code>npm test\n</code></pre>"},{"location":"contributing/#submitting-changes","title":"Submitting Changes","text":""},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Update Your Branch</li> </ol> <pre><code>git fetch upstream\ngit rebase upstream/main\n</code></pre> <ol> <li>Build and Test</li> </ol> <pre><code>npm run build\nnpm run lint\nnpm run format-check\n</code></pre> <ol> <li>Commit dist/ Directory</li> </ol> <p>\u26a0\ufe0f Important: Always commit the built <code>dist/</code> directory:</p> <pre><code>git add dist/\ngit commit -m \"build: compile changes\"\n</code></pre> <ol> <li>Push to Your Fork</li> </ol> <pre><code>git push origin your-branch-name\n</code></pre> <ol> <li> <p>Create Pull Request</p> </li> <li> <p>Go to the repository on GitHub</p> </li> <li>Click \"New Pull Request\"</li> <li>Select your branch</li> <li>Fill out the PR template</li> <li>Link related issues</li> </ol>"},{"location":"contributing/#pull-request-template","title":"Pull Request Template","text":"<p>Your PR should include:</p> <pre><code>## Description\nBrief description of changes\n\n## Type of Change\n- [ ] Bug fix\n- [ ] New feature\n- [ ] Documentation update\n- [ ] Code refactoring\n\n## Testing\nHow did you test these changes?\n\n## Checklist\n- [ ] Code follows project style guidelines\n- [ ] Built and committed dist/ directory\n- [ ] Updated documentation if needed\n- [ ] Tested locally\n- [ ] Added/updated tests (if applicable)\n\n## Related Issues\nFixes #123\n</code></pre>"},{"location":"contributing/#documentation","title":"Documentation","text":""},{"location":"contributing/#writing-documentation","title":"Writing Documentation","text":"<p>Documentation is written in Markdown and built with MkDocs.</p> <ol> <li>Preview Documentation Locally</li> </ol> <pre><code># Install MkDocs\npip install mkdocs-material mkdocs-mermaid2-plugin\n\n# Serve locally\nmkdocs serve\n\n# Visit http://127.0.0.1:8000\n</code></pre> <ol> <li> <p>Documentation Guidelines</p> </li> <li> <p>Use clear, concise language</p> </li> <li>Include code examples</li> <li>Add diagrams where helpful (Mermaid)</li> <li>Test all code examples</li> <li>Keep structure consistent</li> <li> <p>Add links to related pages</p> </li> <li> <p>Adding New Pages</p> </li> </ol> <p>Update <code>mkdocs.yml</code>:</p> <pre><code>nav:\n  - Home: index.md\n  - Your Section:\n    - New Page: section/new-page.md\n</code></pre>"},{"location":"contributing/#release-process","title":"Release Process","text":"<p>For maintainers:</p> <ol> <li>Update Version</li> </ol> <pre><code># Update package.json version\nnpm version major|minor|patch\n</code></pre> <ol> <li>Update Changelog</li> </ol> <p>Update <code>docs/changelog.md</code> with changes.</p> <ol> <li>Create Release</li> </ol> <pre><code># Tag the release\ngit tag -a v1.2.0 -m \"Release v1.2.0\"\ngit push origin v1.2.0\n</code></pre> <ol> <li>GitHub Release</li> </ol> <p>Create a release on GitHub with: - Release notes from changelog - Link to documentation - Migration guide (if breaking changes)</p>"},{"location":"contributing/#getting-help","title":"Getting Help","text":"<ul> <li>\ud83d\udcac GitHub Discussions</li> <li>\ud83d\udc1b Issue Tracker</li> <li>\ud83d\udcd6 Documentation</li> </ul>"},{"location":"contributing/#recognition","title":"Recognition","text":"<p>Contributors are recognized in: - Release notes - Contributors section in README - GitHub's contributor graph</p> <p>Thank you for contributing! \ud83c\udf89</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#github-marketplace","title":"GitHub Marketplace","text":"<p>The easiest way to use this action is through the GitHub Actions marketplace:</p> <ol> <li>Visit the AI Workflow Failure Summary Action on GitHub Marketplace</li> <li>Click \"Use latest version\"</li> <li>Copy the usage snippet to your workflow</li> </ol>"},{"location":"installation/#manual-installation","title":"Manual Installation","text":""},{"location":"installation/#using-a-specific-version-recommended","title":"Using a Specific Version (Recommended)","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1.0.0\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    # ... other inputs\n</code></pre>"},{"location":"installation/#using-latest-version","title":"Using Latest Version","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    # ... other inputs\n</code></pre>"},{"location":"installation/#using-main-branch-not-recommended-for-production","title":"Using Main Branch (Not Recommended for Production)","text":"<pre><code>- uses: ianlintner/ai_summary_action@main\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    # ... other inputs\n</code></pre> <p>Production Usage</p> <p>Always pin to a specific version tag (like <code>@v1.0.0</code>) in production workflows to avoid unexpected breaking changes.</p>"},{"location":"installation/#prerequisites","title":"Prerequisites","text":""},{"location":"installation/#1-github-token","title":"1. GitHub Token","text":"<p>The action requires a GitHub token to access workflow logs and create issues. The default <code>GITHUB_TOKEN</code> is usually sufficient:</p> <pre><code>github-token: ${{ secrets.GITHUB_TOKEN }}\n</code></pre> <p>Required Permissions: <pre><code>permissions:\n  actions: read       # To fetch workflow logs\n  contents: read      # To access repository\n  issues: write       # If creating issues (optional)\n</code></pre></p>"},{"location":"installation/#2-llm-provider-api-key","title":"2. LLM Provider API Key","text":"<p>Choose one of the supported providers and obtain an API key:</p> OpenAIGitHub ModelsAnthropic ClaudeAzure OpenAI <p>Get API Key: 1. Visit OpenAI API Keys 2. Sign in or create an account 3. Create a new API key 4. Add to repository secrets as <code>OPENAI_API_KEY</code></p> <p>Pricing: Pay-as-you-go, starting at $0.03 per 1K tokens for GPT-4o-mini</p> <p>Best For: General use, best balance of cost and quality</p> <p>Get API Key: 1. No additional key needed! Use <code>${{ secrets.GITHUB_TOKEN }}</code> 2. Visit GitHub Models Marketplace 3. Check available models and rate limits</p> <p>Pricing: Free tier available with rate limits</p> <p>Best For: Getting started, testing, small projects</p> <p>Get API Key: 1. Visit Anthropic Console 2. Sign up for an account 3. Create an API key 4. Add to repository secrets as <code>ANTHROPIC_API_KEY</code></p> <p>Pricing: Pay-as-you-go, competitive with OpenAI</p> <p>Best For: Advanced reasoning, large context windows</p> <p>Get API Key: 1. Create an Azure OpenAI resource 2. Deploy a model (e.g., gpt-4o) 3. Get the endpoint and API key 4. Add to secrets:     - <code>AZURE_OPENAI_API_KEY</code>     - <code>AZURE_OPENAI_ENDPOINT</code>     - <code>AZURE_OPENAI_DEPLOYMENT</code></p> <p>Pricing: Enterprise pricing through Azure</p> <p>Best For: Enterprise deployments, compliance requirements</p>"},{"location":"installation/#adding-secrets-to-your-repository","title":"Adding Secrets to Your Repository","text":""},{"location":"installation/#repository-secrets-recommended","title":"Repository Secrets (Recommended)","text":"<ol> <li>Go to your repository on GitHub</li> <li>Click Settings \u2192 Secrets and variables \u2192 Actions</li> <li>Click New repository secret</li> <li>Add each required secret:<ul> <li>Name: <code>OPENAI_API_KEY</code> (or your provider)</li> <li>Value: Your API key</li> </ul> </li> <li>Click Add secret</li> </ol>"},{"location":"installation/#organization-secrets","title":"Organization Secrets","text":"<p>For multiple repositories:</p> <ol> <li>Go to your organization on GitHub</li> <li>Click Settings \u2192 Secrets and variables \u2192 Actions</li> <li>Click New organization secret</li> <li>Add the secret and select which repositories can access it</li> </ol>"},{"location":"installation/#environment-secrets","title":"Environment Secrets","text":"<p>For environment-specific configuration:</p> <ol> <li>Create an environment in your repository settings</li> <li>Add secrets to that environment</li> <li>Reference in your workflow:</li> </ol> <pre><code>jobs:\n  analyze:\n    runs-on: ubuntu-latest\n    environment: production  # Use environment secrets\n    steps:\n      - uses: ianlintner/ai_summary_action@v1\n        with:\n          openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n</code></pre>"},{"location":"installation/#verification","title":"Verification","text":"<p>To verify installation, add a simple test workflow:</p> .github/workflows/test-ai-action.yml<pre><code>name: Test AI Action\n\non:\n  workflow_dispatch:  # Manual trigger\n\njobs:\n  fail-intentionally:\n    runs-on: ubuntu-latest\n    steps:\n      - name: This will fail\n        run: exit 1\n\n  analyze:\n    runs-on: ubuntu-latest\n    if: failure()\n    needs: [fail-intentionally]\n    steps:\n      - name: Analyze Failure\n        uses: ianlintner/ai_summary_action@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          llm-provider: 'openai'\n          openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n</code></pre> <p>Run this workflow manually from the Actions tab to test your setup.</p>"},{"location":"installation/#system-requirements","title":"System Requirements","text":"<ul> <li>GitHub Actions: Any runner (ubuntu-latest, windows-latest, macos-latest)</li> <li>Node.js Runtime: Node 20 (provided by GitHub Actions)</li> <li>Internet Access: Required to call LLM provider APIs</li> <li>Permissions: Read access to Actions, optional write access to Issues</li> </ul>"},{"location":"installation/#upgrading","title":"Upgrading","text":"<p>To upgrade to a newer version:</p> <ol> <li>Check the Changelog for breaking changes</li> <li>Update the version in your workflow:    <pre><code>- uses: ianlintner/ai_summary_action@v2.0.0  # New version\n</code></pre></li> <li>Test in a non-production workflow first</li> <li>Roll out to all workflows</li> </ol>"},{"location":"installation/#uninstalling","title":"Uninstalling","text":"<p>To remove the action:</p> <ol> <li>Delete or comment out the action step in your workflows</li> <li>Optionally remove the API key secret from repository settings</li> <li>Remove any custom prompt files from <code>.github/prompts/</code></li> </ol>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration Guide - Learn about all available options</li> <li>Quick Start - Get up and running quickly</li> <li>Examples - See common usage patterns</li> </ul>"},{"location":"quickstart/","title":"Quick Start Guide","text":"<p>Get AI-powered workflow failure analysis running in your repository in less than 5 minutes!</p>"},{"location":"quickstart/#prerequisites","title":"Prerequisites","text":"<ul> <li>A GitHub repository with Actions enabled</li> <li>An API key from one of the supported LLM providers:<ul> <li>OpenAI (recommended for beginners)</li> <li>GitHub Models (free tier available)</li> <li>Anthropic Claude</li> <li>Azure OpenAI</li> </ul> </li> </ul>"},{"location":"quickstart/#step-1-add-your-api-key","title":"Step 1: Add Your API Key","text":"<ol> <li>Go to your repository on GitHub</li> <li>Navigate to Settings \u2192 Secrets and variables \u2192 Actions</li> <li>Click New repository secret</li> <li>Add your secret:<ul> <li>Name: <code>OPENAI_API_KEY</code> (or provider-specific name)</li> <li>Value: Your API key</li> </ul> </li> <li>Click Add secret</li> </ol> <p>Using GitHub Models</p> <p>If using GitHub Models, you can use <code>${{ secrets.GITHUB_TOKEN }}</code> directly - no additional secret needed!</p>"},{"location":"quickstart/#step-2-create-the-workflow","title":"Step 2: Create the Workflow","text":"<p>Create a new file: <code>.github/workflows/ai-failure-analysis.yml</code></p> Automatic (Monitors All Workflows)Manual (Add to Existing Workflow)GitHub Models (Free) <pre><code>name: AI Failure Analysis\n\non:\n  workflow_run:\n    workflows: [\"*\"]  # Monitor all workflows\n    types: [completed]\n\njobs:\n  analyze:\n    runs-on: ubuntu-latest\n    if: ${{ github.event.workflow_run.conclusion == 'failure' }}\n\n    steps:\n      - name: Analyze Failed Workflow\n        uses: ianlintner/ai_summary_action@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          llm-provider: 'openai'\n          openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n          create-issue: 'true'\n</code></pre> <pre><code># Add this job to your existing workflow\nanalyze-failure:\n  runs-on: ubuntu-latest\n  if: failure()\n  needs: [test, build]  # Add all jobs you want to monitor\n\n  steps:\n    - name: AI Failure Analysis\n      uses: ianlintner/ai_summary_action@v1\n      with:\n        github-token: ${{ secrets.GITHUB_TOKEN }}\n        llm-provider: 'openai'\n        openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n</code></pre> <pre><code>name: AI Failure Analysis\n\non:\n  workflow_run:\n    workflows: [\"*\"]\n    types: [completed]\n\njobs:\n  analyze:\n    runs-on: ubuntu-latest\n    if: ${{ github.event.workflow_run.conclusion == 'failure' }}\n\n    steps:\n      - name: Analyze with GitHub Models\n        uses: ianlintner/ai_summary_action@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          llm-provider: 'github-models'\n          github-models-token: ${{ secrets.GITHUB_TOKEN }}\n          github-models-model: 'gpt-4o'\n          create-issue: 'true'\n</code></pre>"},{"location":"quickstart/#step-3-test-it","title":"Step 3: Test It!","text":"<ol> <li>Commit and push the workflow file</li> <li>Trigger a workflow that will fail (or wait for one to fail naturally)</li> <li>Check the Actions tab to see the AI analysis</li> </ol>"},{"location":"quickstart/#what-youll-get","title":"What You'll Get","text":"<p>After a workflow fails, you'll see:</p>"},{"location":"quickstart/#1-github-actions-summary","title":"1. GitHub Actions Summary","text":"<p>A detailed analysis appears in the Actions summary tab:</p> <pre><code>## \ud83d\udd0d AI Workflow Failure Analysis\n\n### Summary\nThe test suite failed due to a missing environment variable...\n\n### Root Cause\nThe DATABASE_URL environment variable is not set...\n\n### Recommended Actions\n1. Add DATABASE_URL to your workflow\n2. Configure it in repository secrets\n...\n</code></pre>"},{"location":"quickstart/#2-github-issue-if-enabled","title":"2. GitHub Issue (if enabled)","text":"<p>An automatically created issue with the full analysis and links to the failed run.</p>"},{"location":"quickstart/#3-action-outputs","title":"3. Action Outputs","text":"<p>Available for use in subsequent workflow steps: - <code>summary</code>: The AI-generated analysis - <code>failed-jobs</code>: List of failed job names - <code>issue-url</code>: URL of created issue (if enabled)</p>"},{"location":"quickstart/#next-steps","title":"Next Steps","text":"<ul> <li> <p> Configure Options</p> <p>Customize behavior, prompts, and more</p> </li> <li> <p> Custom Prompts</p> <p>Tailor AI analysis to your needs</p> </li> <li> <p> LLM Providers</p> <p>Learn about all supported providers</p> </li> <li> <p> Copilot Integration</p> <p>Use with GitHub Copilot for even better debugging</p> </li> </ul>"},{"location":"quickstart/#troubleshooting","title":"Troubleshooting","text":"<p>Action Not Running?</p> <p>Make sure your workflow has the necessary permissions. Add this to your workflow: <pre><code>permissions:\n  actions: read\n  contents: read\n  issues: write  # If creating issues\n</code></pre></p> <p>API Key Issues?</p> <ul> <li>Verify the secret name matches exactly</li> <li>Ensure the API key is valid and has quota</li> <li>Check provider-specific requirements</li> </ul> <p>Need Help?</p> <ul> <li>\ud83d\udcd6 Check the Troubleshooting Guide</li> <li>\ud83d\udc1b Open an Issue</li> <li>\ud83d\udcac Ask in Discussions</li> </ul>"},{"location":"quickstart/#complete-example","title":"Complete Example","text":"<p>Here's a full working example with all recommended settings:</p> .github/workflows/ai-failure-analysis.yml<pre><code>name: AI Failure Analysis\n\non:\n  workflow_run:\n    workflows: [\"CI\", \"Tests\", \"Build\"]  # Specific workflows to monitor\n    types: [completed]\n\npermissions:\n  actions: read\n  contents: read\n  issues: write\n\njobs:\n  analyze:\n    runs-on: ubuntu-latest\n    if: ${{ github.event.workflow_run.conclusion == 'failure' }}\n\n    steps:\n      - name: Analyze Failed Workflow\n        uses: ianlintner/ai_summary_action@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          llm-provider: 'openai'\n          openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n          openai-model: 'gpt-4o-mini'\n          max-log-lines: '500'\n          create-issue: 'true'\n          issue-label: 'automated-analysis'\n\n      - name: Comment on PR (if applicable)\n        if: github.event.workflow_run.pull_requests[0]\n        uses: actions/github-script@v7\n        with:\n          script: |\n            const summary = '${{ steps.analyze.outputs.summary }}';\n            github.rest.issues.createComment({\n              issue_number: context.issue.number,\n              owner: context.repo.owner,\n              repo: context.repo.repo,\n              body: `## \ud83e\udd16 AI Failure Analysis\\n\\n${summary}`\n            });\n</code></pre> <p>You're all set! \ud83c\udf89</p>"},{"location":"advanced/architecture/","title":"Architecture","text":"<p>Understanding the internal architecture of AI Workflow Failure Summary Action.</p>"},{"location":"advanced/architecture/#system-overview","title":"System Overview","text":"<pre><code>graph TB\n    subgraph \"GitHub Actions Environment\"\n        WF[Workflow Fails]\n        ACT[Action Triggered]\n    end\n\n    subgraph \"AI Summary Action\"\n        INPUT[Parse Inputs]\n        FETCH[Fetch Workflow Logs]\n        PROC[Process Logs]\n        LLM[LLM Client]\n        FMT[Format Output]\n    end\n\n    subgraph \"External Services\"\n        GH[GitHub API]\n        OAI[OpenAI]\n        ANT[Anthropic]\n        AZ[Azure OpenAI]\n        GHM[GitHub Models]\n    end\n\n    subgraph \"Outputs\"\n        SUM[Actions Summary]\n        ISS[GitHub Issue]\n        OUT[Action Outputs]\n    end\n\n    WF --&gt; ACT\n    ACT --&gt; INPUT\n    INPUT --&gt; FETCH\n    FETCH --&gt; GH\n    GH --&gt; PROC\n    PROC --&gt; LLM\n    LLM -.-&gt;|Provider| OAI\n    LLM -.-&gt;|Provider| ANT\n    LLM -.-&gt;|Provider| AZ\n    LLM -.-&gt;|Provider| GHM\n    LLM --&gt; FMT\n    FMT --&gt; SUM\n    FMT --&gt; ISS\n    FMT --&gt; OUT</code></pre>"},{"location":"advanced/architecture/#component-architecture","title":"Component Architecture","text":""},{"location":"advanced/architecture/#core-components","title":"Core Components","text":""},{"location":"advanced/architecture/#1-entry-point-srcindexts","title":"1. Entry Point (<code>src/index.ts</code>)","text":"<pre><code>flowchart LR\n    START([Action Start]) --&gt; INPUTS[Get Inputs]\n    INPUTS --&gt; CONTEXT[Get GitHub Context]\n    CONTEXT --&gt; ANALYZE[Call Analyzer]\n    ANALYZE --&gt; OUTPUT[Set Outputs]\n    OUTPUT --&gt; SUMMARY[Write Summary]\n    SUMMARY --&gt; ISSUE{Create Issue?}\n    ISSUE --&gt;|Yes| CREATE[Create Issue]\n    ISSUE --&gt;|No| END([Action End])\n    CREATE --&gt; END</code></pre> <p>Responsibilities: - Parse action inputs from workflow - Get GitHub context (repo, run ID, etc.) - Orchestrate the analysis workflow - Handle errors and set outputs - Create issues if requested</p>"},{"location":"advanced/architecture/#2-analyzer-srcanalyzerts","title":"2. Analyzer (<code>src/analyzer.ts</code>)","text":"<pre><code>flowchart TB\n    START([Analyze Request]) --&gt; LOGS[Fetch Failed Job Logs]\n    LOGS --&gt; CHECK{Logs Found?}\n    CHECK --&gt;|No| EMPTY[Return Empty Result]\n    CHECK --&gt;|Yes| LLM[Initialize LLM Client]\n    LLM --&gt; PROMPTS[Load Prompts]\n    PROMPTS --&gt; CUSTOM{Custom Prompts?}\n    CUSTOM --&gt;|Yes| LOAD[Load from Files]\n    CUSTOM --&gt;|No| DEFAULT[Use Defaults]\n    LOAD --&gt; FORMAT\n    DEFAULT --&gt; FORMAT[Format Prompt]\n    FORMAT --&gt; INVOKE[Invoke LLM]\n    INVOKE --&gt; PARSE[Parse Response]\n    PARSE --&gt; RETURN[Return Analysis]\n    EMPTY --&gt; END([End])\n    RETURN --&gt; END</code></pre> <p>Responsibilities: - Fetch workflow logs via GitHub API - Load and process custom prompts - Initialize appropriate LLM provider - Format logs and prompts - Invoke LLM for analysis - Parse and return results</p>"},{"location":"advanced/architecture/#3-github-client-srcgithub-clientts","title":"3. GitHub Client (<code>src/github-client.ts</code>)","text":"<pre><code>flowchart LR\n    START([Client Request]) --&gt; AUTH[Authenticate]\n    AUTH --&gt; JOBS[List Workflow Jobs]\n    JOBS --&gt; FILTER[Filter Failed Jobs]\n    FILTER --&gt; FETCH[Fetch Logs for Each]\n    FETCH --&gt; TRUNCATE[Truncate to Max Lines]\n    TRUNCATE --&gt; RETURN[Return Processed Logs]\n    RETURN --&gt; END([End])</code></pre> <p>Responsibilities: - Authenticate with GitHub API - Fetch workflow run information - Get logs for failed jobs - Truncate logs to configured limit - Create issues with analysis results</p>"},{"location":"advanced/architecture/#data-flow","title":"Data Flow","text":""},{"location":"advanced/architecture/#log-processing-pipeline","title":"Log Processing Pipeline","text":"<pre><code>sequenceDiagram\n    participant A as Action\n    participant GH as GitHub API\n    participant P as Processor\n    participant L as LLM\n\n    A-&gt;&gt;GH: Get Workflow Run\n    GH--&gt;&gt;A: Run Details\n\n    A-&gt;&gt;GH: List Jobs for Run\n    GH--&gt;&gt;A: Job List\n\n    A-&gt;&gt;P: Filter Failed Jobs\n    P--&gt;&gt;A: Failed Job IDs\n\n    loop For Each Failed Job\n        A-&gt;&gt;GH: Download Logs\n        GH--&gt;&gt;A: Raw Logs\n        A-&gt;&gt;P: Truncate to max-log-lines\n        P--&gt;&gt;A: Processed Logs\n    end\n\n    A-&gt;&gt;P: Format for LLM\n    P--&gt;&gt;A: Formatted Prompt\n\n    A-&gt;&gt;L: Send for Analysis\n    L--&gt;&gt;A: AI Summary\n\n    A-&gt;&gt;GH: Post Summary/Issue</code></pre>"},{"location":"advanced/architecture/#prompt-resolution","title":"Prompt Resolution","text":"<pre><code>flowchart TB\n    START([Custom Prompt Input]) --&gt; CHECK{Is File Path?}\n    CHECK --&gt;|No| INLINE[Use as Inline Text]\n    CHECK --&gt;|Yes| PATH{Path Exists?}\n    PATH --&gt;|No| WARN[Log Warning]\n    PATH --&gt;|Yes| READ[Read File Content]\n    WARN --&gt; INLINE\n    READ --&gt; PROCESS[Process Variables]\n    INLINE --&gt; PROCESS\n    PROCESS --&gt; RETURN[Return Final Prompt]\n    RETURN --&gt; END([End])</code></pre>"},{"location":"advanced/architecture/#llm-provider-architecture","title":"LLM Provider Architecture","text":""},{"location":"advanced/architecture/#provider-selection","title":"Provider Selection","text":"<pre><code>graph TB\n    START([Provider Config]) --&gt; SWITCH{Provider Type}\n\n    SWITCH --&gt;|openai| OAI[OpenAI Client]\n    SWITCH --&gt;|azure-openai| AZ[Azure OpenAI Client]\n    SWITCH --&gt;|github-models| GHM[GitHub Models Client]\n    SWITCH --&gt;|anthropic| ANT[Anthropic Client]\n\n    OAI --&gt; VALIDATE_OAI{API Key Valid?}\n    AZ --&gt; VALIDATE_AZ{Config Complete?}\n    GHM --&gt; VALIDATE_GHM{Token Valid?}\n    ANT --&gt; VALIDATE_ANT{API Key Valid?}\n\n    VALIDATE_OAI --&gt;|Yes| CREATE_OAI[Create ChatOpenAI]\n    VALIDATE_AZ --&gt;|Yes| CREATE_AZ[Create ChatOpenAI + Azure]\n    VALIDATE_GHM --&gt;|Yes| CREATE_GHM[Create ChatOpenAI + GitHub]\n    VALIDATE_ANT --&gt;|Yes| CREATE_ANT[Create ChatAnthropic]\n\n    VALIDATE_OAI --&gt;|No| ERROR\n    VALIDATE_AZ --&gt;|No| ERROR\n    VALIDATE_GHM --&gt;|No| ERROR\n    VALIDATE_ANT --&gt;|No| ERROR[Throw Error]\n\n    CREATE_OAI --&gt; RETURN[Return Client]\n    CREATE_AZ --&gt; RETURN\n    CREATE_GHM --&gt; RETURN\n    CREATE_ANT --&gt; RETURN\n\n    RETURN --&gt; END([End])</code></pre>"},{"location":"advanced/architecture/#llm-invocation","title":"LLM Invocation","text":"<pre><code>sequenceDiagram\n    participant A as Analyzer\n    participant C as LLM Client\n    participant P as Provider API\n\n    A-&gt;&gt;C: Initialize with Config\n    C-&gt;&gt;C: Validate Credentials\n\n    A-&gt;&gt;C: Invoke([SystemMessage, UserMessage])\n    C-&gt;&gt;C: Format Messages\n    C-&gt;&gt;P: HTTP Request\n\n    alt Success\n        P--&gt;&gt;C: Response with Content\n        C-&gt;&gt;C: Parse Response\n        C--&gt;&gt;A: Return Content String\n    else API Error\n        P--&gt;&gt;C: Error Response\n        C--&gt;&gt;A: Throw Error\n    else Timeout\n        P--xC: No Response\n        C--&gt;&gt;A: Throw Timeout Error\n    end</code></pre>"},{"location":"advanced/architecture/#state-management","title":"State Management","text":"<p>The action is stateless - each execution is independent:</p> <pre><code>stateDiagram-v2\n    [*] --&gt; Initialize: Workflow Fails\n    Initialize --&gt; FetchLogs: Get Inputs\n    FetchLogs --&gt; Analyze: Logs Retrieved\n    Analyze --&gt; Output: Analysis Complete\n    Output --&gt; CreateIssue: Issue Enabled\n    Output --&gt; Finish: Issue Disabled\n    CreateIssue --&gt; Finish: Issue Created\n    Finish --&gt; [*]: Action Complete\n\n    note right of Analyze\n        No persistent state\n        Fresh analysis each time\n    end note</code></pre>"},{"location":"advanced/architecture/#error-handling","title":"Error Handling","text":"<pre><code>flowchart TB\n    START([Operation]) --&gt; TRY{Try}\n    TRY --&gt;|Success| SUCCESS[Return Result]\n    TRY --&gt;|Error| CATCH[Catch Exception]\n\n    CATCH --&gt; TYPE{Error Type}\n\n    TYPE --&gt;|API Error| LOG_API[Log API Error]\n    TYPE --&gt;|Auth Error| LOG_AUTH[Log Auth Error]\n    TYPE --&gt;|Network Error| LOG_NET[Log Network Error]\n    TYPE --&gt;|Other| LOG_OTHER[Log Generic Error]\n\n    LOG_API --&gt; FAIL[Set Action Failed]\n    LOG_AUTH --&gt; FAIL\n    LOG_NET --&gt; FAIL\n    LOG_OTHER --&gt; FAIL\n\n    SUCCESS --&gt; END([End])\n    FAIL --&gt; END</code></pre> <p>Error Handling Strategy: - All errors caught at entry point - Specific error messages logged - Action marked as failed with descriptive message - No silent failures - No partial outputs on error</p>"},{"location":"advanced/architecture/#security-architecture","title":"Security Architecture","text":"<pre><code>graph TB\n    subgraph \"Input Layer\"\n        SECRETS[GitHub Secrets]\n        INPUTS[Action Inputs]\n    end\n\n    subgraph \"Processing Layer\"\n        MASK[Secret Masking]\n        VALIDATE[Input Validation]\n        SANITIZE[Log Sanitization]\n    end\n\n    subgraph \"External Communication\"\n        TLS[TLS/HTTPS Only]\n        AUTH[Authenticated Requests]\n    end\n\n    subgraph \"Output Layer\"\n        SUMMARY[Sanitized Summary]\n        ISSUE[Sanitized Issue]\n    end\n\n    SECRETS --&gt; MASK\n    INPUTS --&gt; VALIDATE\n    MASK --&gt; SANITIZE\n    VALIDATE --&gt; SANITIZE\n    SANITIZE --&gt; TLS\n    TLS --&gt; AUTH\n    AUTH --&gt; SUMMARY\n    AUTH --&gt; ISSUE</code></pre> <p>Security Measures: - Secrets never logged or exposed - GitHub's automatic secret masking - TLS for all external communication - Authenticated API requests only - Minimal permissions required - No secret storage or persistence</p>"},{"location":"advanced/architecture/#performance-characteristics","title":"Performance Characteristics","text":""},{"location":"advanced/architecture/#time-complexity","title":"Time Complexity","text":"<pre><code>gantt\n    title Typical Action Execution Timeline\n    dateFormat  s\n    axisFormat %S\n\n    section Initialization\n    Parse Inputs     :a1, 0, 1s\n    Get Context      :a2, after a1, 1s\n\n    section Data Fetch\n    Fetch Jobs       :b1, after a2, 2s\n    Fetch Logs       :b2, after b1, 5s\n\n    section Analysis\n    Format Prompts   :c1, after b2, 1s\n    LLM Request      :c2, after c1, 15s\n    Parse Response   :c3, after c2, 1s\n\n    section Output\n    Write Summary    :d1, after c3, 1s\n    Create Issue     :d2, after d1, 2s</code></pre> <p>Average Execution Time: 20-30 seconds - Dominated by LLM API latency (10-20s) - GitHub API calls: 3-5s - Processing: &lt;2s</p>"},{"location":"advanced/architecture/#resource-usage","title":"Resource Usage","text":"<ul> <li>Memory: ~100MB (Node.js + dependencies)</li> <li>CPU: Minimal (I/O bound)</li> <li>Network: </li> <li>Logs download: varies by log size</li> <li>LLM request: ~50KB (compressed)</li> <li>LLM response: ~5-10KB</li> </ul>"},{"location":"advanced/architecture/#scalability","title":"Scalability","text":"<pre><code>graph LR\n    A[Single Repo] --&gt; B[Multiple Workflows]\n    B --&gt; C[Many Failures]\n    C --&gt; D{Scaling Strategy}\n\n    D --&gt; E[Parallel Jobs]\n    D --&gt; F[Conditional Execution]\n    D --&gt; G[Rate Limiting]\n\n    E --&gt; H[Each Workflow = Separate Job]\n    F --&gt; I[Only Analyze New Failures]\n    G --&gt; J[Respect API Limits]</code></pre> <p>Scalability Considerations: - Each workflow run is independent - Parallel execution across repositories - GitHub API rate limits apply - LLM provider rate limits apply - No shared state or bottlenecks</p>"},{"location":"advanced/architecture/#deployment-architecture","title":"Deployment Architecture","text":"<pre><code>flowchart TB\n    subgraph \"Development\"\n        SRC[Source Code]\n        BUILD[npm run build]\n    end\n\n    subgraph \"Distribution\"\n        DIST[dist/ Directory]\n        ACTION[action.yml]\n    end\n\n    subgraph \"GitHub Registry\"\n        TAG[Version Tag]\n        REF[Git Reference]\n    end\n\n    subgraph \"Consumer Workflows\"\n        USER1[Repo A Workflow]\n        USER2[Repo B Workflow]\n        USER3[Repo C Workflow]\n    end\n\n    SRC --&gt; BUILD\n    BUILD --&gt; DIST\n    DIST --&gt; TAG\n    ACTION --&gt; TAG\n    TAG --&gt; REF\n    REF --&gt; USER1\n    REF --&gt; USER2\n    REF --&gt; USER3</code></pre> <p>Deployment Process: 1. Code changes merged to main 2. <code>npm run build</code> compiles TypeScript 3. dist/ directory committed 4. Version tag created 5. Users reference tag in workflows</p>"},{"location":"advanced/architecture/#extension-points","title":"Extension Points","text":"<p>Areas designed for customization:</p> <pre><code>mindmap\n  root((Extension Points))\n    Custom Prompts\n      System Prompt\n      User Prompt\n      Template Variables\n    LLM Providers\n      Add New Provider\n      Configure Existing\n      Custom Models\n    Output Formats\n      Summary Format\n      Issue Templates\n      Custom Outputs\n    Log Processing\n      Custom Filters\n      Format Handlers\n      Truncation Logic</code></pre>"},{"location":"advanced/architecture/#technology-stack","title":"Technology Stack","text":"<pre><code>Runtime: Node.js 20\nLanguage: TypeScript 5.3+\nFramework: GitHub Actions Toolkit\nLLM Integration: LangChain\nBundler: Vercel ncc\nDependencies:\n  - @actions/core: GitHub Actions SDK\n  - @actions/github: GitHub API client\n  - @langchain/openai: OpenAI integration\n  - @langchain/anthropic: Anthropic integration\n  - @langchain/core: LangChain base types\n</code></pre>"},{"location":"advanced/architecture/#future-architecture-considerations","title":"Future Architecture Considerations","text":"<p>Potential enhancements:</p> <ol> <li>Caching Layer: Cache similar failures to reduce LLM calls</li> <li>Learning System: Learn from resolved issues</li> <li>Multi-Step Analysis: Chain multiple LLM calls</li> <li>Streaming Responses: Stream LLM output for faster feedback</li> <li>Webhook Integration: Push notifications to external systems</li> </ol>"},{"location":"advanced/architecture/#next-steps","title":"Next Steps","text":"<ul> <li>Security Best Practices</li> <li>Troubleshooting Guide</li> <li>Contributing Guide</li> </ul>"},{"location":"advanced/memory-and-caching/","title":"Memory and Caching Features","text":""},{"location":"advanced/memory-and-caching/#overview","title":"Overview","text":"<p>The AI Workflow Failure Summary Action now includes memory and caching capabilities to provide context-aware analysis by understanding:</p> <ul> <li>Past failed runs on the same branch</li> <li>Recent commit changes</li> <li>Previous AI summaries</li> <li>Historical failure patterns</li> </ul>"},{"location":"advanced/memory-and-caching/#architecture","title":"Architecture","text":"<pre><code>graph TB\n    subgraph \"Current Run\"\n        A[Workflow Fails]\n        B[Fetch Current Logs]\n    end\n\n    subgraph \"Memory Layer\"\n        C[Load Cache]\n        D[Past Summaries]\n        E[Branch History]\n        F[Commit Changes]\n    end\n\n    subgraph \"Analysis\"\n        G[Combine Context]\n        H[AI Analysis]\n        I[Generate Summary]\n    end\n\n    subgraph \"Storage\"\n        J[Save to Cache]\n        K[Update History]\n    end\n\n    A --&gt; B\n    B --&gt; C\n    C --&gt; D\n    C --&gt; E\n    C --&gt; F\n    D --&gt; G\n    E --&gt; G\n    F --&gt; G\n    B --&gt; G\n    G --&gt; H\n    H --&gt; I\n    I --&gt; J\n    J --&gt; K</code></pre>"},{"location":"advanced/memory-and-caching/#cache-storage-options","title":"Cache Storage Options","text":""},{"location":"advanced/memory-and-caching/#1-github-actions-cache-recommended","title":"1. GitHub Actions Cache (Recommended)","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n    enable-memory: 'true'\n    cache-strategy: 'actions-cache'\n</code></pre> <p>Pros: - Built into GitHub Actions - No external dependencies - Automatic cleanup - Cross-run persistence</p> <p>Cons: - 10GB limit per repository - 7-day retention</p>"},{"location":"advanced/memory-and-caching/#2-github-issuescomments","title":"2. GitHub Issues/Comments","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n    enable-memory: 'true'\n    cache-strategy: 'github-issues'\n    memory-issue-label: 'ai-memory'\n</code></pre> <p>Pros: - Permanent storage - Easy to view and audit - Integrates with GitHub UI</p> <p>Cons: - Creates issues/comments - Requires issue write permissions - Not as fast as cache</p>"},{"location":"advanced/memory-and-caching/#3-git-notes","title":"3. Git Notes","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n    enable-memory: 'true'\n    cache-strategy: 'git-notes'\n</code></pre> <p>Pros: - Tied to commits - Part of git history - No extra storage needed</p> <p>Cons: - Requires push access - Not visible in GitHub UI - Complex to query</p>"},{"location":"advanced/memory-and-caching/#configuration","title":"Configuration","text":""},{"location":"advanced/memory-and-caching/#enable-memory","title":"Enable Memory","text":"<pre><code>enable-memory: 'true'\n</code></pre> <p>Enables all memory features.</p>"},{"location":"advanced/memory-and-caching/#cache-strategy","title":"Cache Strategy","text":"<pre><code>cache-strategy: 'actions-cache' # or 'github-issues' or 'git-notes'\n</code></pre> <p>Choose how to store historical data.</p>"},{"location":"advanced/memory-and-caching/#memory-retention","title":"Memory Retention","text":"<pre><code>memory-retention-days: '30'\n</code></pre> <p>How long to keep historical data (default: 30 days).</p>"},{"location":"advanced/memory-and-caching/#max-historical-runs","title":"Max Historical Runs","text":"<pre><code>max-historical-runs: '10'\n</code></pre> <p>Maximum number of past runs to include in analysis (default: 10).</p>"},{"location":"advanced/memory-and-caching/#include-commit-changes","title":"Include Commit Changes","text":"<pre><code>include-commit-changes: 'true'\n</code></pre> <p>Include git diff of recent commits in analysis.</p>"},{"location":"advanced/memory-and-caching/#memory-scope","title":"Memory Scope","text":"<pre><code>memory-scope: 'branch' # or 'repository' or 'workflow'\n</code></pre> <p>Scope of memory to consider: - <code>branch</code>: Only this branch's history - <code>repository</code>: All branches - <code>workflow</code>: Only this specific workflow</p>"},{"location":"advanced/memory-and-caching/#what-gets-cached","title":"What Gets Cached","text":""},{"location":"advanced/memory-and-caching/#1-failure-summaries","title":"1. Failure Summaries","text":"<pre><code>{\n  \"runId\": 12345,\n  \"branch\": \"feature/fix-tests\",\n  \"commit\": \"abc123\",\n  \"timestamp\": \"2024-12-10T18:00:00Z\",\n  \"summary\": \"Test failed due to...\",\n  \"failedJobs\": [\"test\", \"lint\"],\n  \"resolved\": false\n}\n</code></pre>"},{"location":"advanced/memory-and-caching/#2-branch-history","title":"2. Branch History","text":"<pre><code>{\n  \"branch\": \"feature/fix-tests\",\n  \"lastAnalysis\": \"2024-12-10T18:00:00Z\",\n  \"totalFailures\": 3,\n  \"commonErrors\": [\n    \"DATABASE_URL not set\",\n    \"Timeout in integration tests\"\n  ],\n  \"resolution\": \"Added DATABASE_URL to workflow\"\n}\n</code></pre>"},{"location":"advanced/memory-and-caching/#3-commit-changes","title":"3. Commit Changes","text":"<pre><code>{\n  \"commit\": \"abc123\",\n  \"files\": [\"src/api.ts\", \"test/api.test.ts\"],\n  \"additions\": 50,\n  \"deletions\": 20,\n  \"relevantTo\": [\"test job\"]\n}\n</code></pre>"},{"location":"advanced/memory-and-caching/#enhanced-analysis-prompt","title":"Enhanced Analysis Prompt","text":"<p>With memory enabled, the AI receives additional context:</p> <pre><code>## Current Failure\n[Current logs...]\n\n## Historical Context\n\n### Previous Failures on This Branch\n1. 2 days ago: Test failed due to DATABASE_URL not set\n   - Resolution: Added to workflow environment\n\n2. 1 day ago: Build timeout\n   - Resolution: Increased timeout from 10m to 15m\n\n### Recent Commits\n- abc123: \"Fix database connection pooling\" (2 files changed)\n- def456: \"Update test fixtures\" (5 files changed)\n\n### Patterns Detected\n- This is the 3rd failure in the test job this week\n- Similar error occurred 2 days ago\n- Previous fix did not resolve the issue\n\n## Analysis Request\nConsidering the history above, analyze the current failure and:\n1. Identify if this is a recurring issue\n2. Reference previous failures and resolutions\n3. Determine if previous fixes were effective\n4. Suggest improvements based on patterns\n</code></pre>"},{"location":"advanced/memory-and-caching/#usage-examples","title":"Usage Examples","text":""},{"location":"advanced/memory-and-caching/#basic-memory-usage","title":"Basic Memory Usage","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n    enable-memory: 'true'\n</code></pre>"},{"location":"advanced/memory-and-caching/#advanced-configuration","title":"Advanced Configuration","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n    enable-memory: 'true'\n    cache-strategy: 'actions-cache'\n    memory-scope: 'branch'\n    max-historical-runs: '20'\n    memory-retention-days: '60'\n    include-commit-changes: 'true'\n</code></pre>"},{"location":"advanced/memory-and-caching/#with-custom-prompts","title":"With Custom Prompts","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n    enable-memory: 'true'\n    custom-system-prompt: '.github/prompts/system-with-memory.md'\n</code></pre> <p>Example prompt:</p> <pre><code>You are analyzing a workflow failure with access to historical context.\n\nWhen analyzing:\n1. Check if this error has occurred before\n2. Review what previous fixes were attempted\n3. Determine if patterns suggest a deeper issue\n4. Provide more informed recommendations based on history\n\nIf this is a recurring issue, explain why previous fixes failed\nand suggest a more permanent solution.\n</code></pre>"},{"location":"advanced/memory-and-caching/#api-for-memory-access","title":"API for Memory Access","text":"<p>The action exposes memory data as outputs:</p> <pre><code>- id: analyze\n  uses: ianlintner/ai_summary_action@v1\n  with:\n    enable-memory: 'true'\n    # ...\n\n- name: Access Memory Data\n  run: |\n    echo \"Previous failures: ${{ steps.analyze.outputs.historical-failures }}\"\n    echo \"Branch patterns: ${{ steps.analyze.outputs.branch-patterns }}\"\n    echo \"Similar issues: ${{ steps.analyze.outputs.similar-issues }}\"\n</code></pre>"},{"location":"advanced/memory-and-caching/#benefits","title":"Benefits","text":""},{"location":"advanced/memory-and-caching/#1-smarter-analysis","title":"1. Smarter Analysis","text":"<p>With historical context, the AI can: - Identify recurring issues - Suggest better fixes based on what didn't work - Detect patterns across multiple failures - Provide branch-specific insights</p>"},{"location":"advanced/memory-and-caching/#2-reduced-repeated-failures","title":"2. Reduced Repeated Failures","text":"<p>By understanding what was tried before: - Avoid suggesting the same failed fix - Recognize when a different approach is needed - Learn from successful resolutions</p>"},{"location":"advanced/memory-and-caching/#3-better-developer-experience","title":"3. Better Developer Experience","text":"<p>Developers get: - More relevant recommendations - Context about failure history - Insight into patterns - Confidence that issues won't recur</p>"},{"location":"advanced/memory-and-caching/#performance-considerations","title":"Performance Considerations","text":""},{"location":"advanced/memory-and-caching/#cache-size","title":"Cache Size","text":"<p>Each analysis typically stores: - Summary: ~2-5 KB - Commit changes: ~1-10 KB - Metadata: ~1 KB</p> <p>With 10 historical runs: ~50-150 KB total per branch</p>"},{"location":"advanced/memory-and-caching/#lookup-time","title":"Lookup Time","text":"<ul> <li>Actions Cache: ~1-2 seconds</li> <li>GitHub Issues: ~2-5 seconds</li> <li>Git Notes: ~1-3 seconds</li> </ul>"},{"location":"advanced/memory-and-caching/#memory-usage","title":"Memory Usage","text":"<p>Minimal impact on action runtime: - Loading cache: +1-3 seconds - Processing history: +0.5-1 second - Saving cache: +1-2 seconds</p> <p>Total overhead: ~3-6 seconds per run</p>"},{"location":"advanced/memory-and-caching/#privacy-and-security","title":"Privacy and Security","text":""},{"location":"advanced/memory-and-caching/#whats-stored","title":"What's Stored","text":"<ul> <li>Anonymized log summaries (not full logs)</li> <li>File paths and commit SHAs</li> <li>Error messages (sanitized)</li> <li>Job names and conclusions</li> </ul>"},{"location":"advanced/memory-and-caching/#whats-not-stored","title":"What's NOT Stored","text":"<ul> <li>API keys or secrets</li> <li>Full log contents</li> <li>Sensitive environment variables</li> <li>Private code snippets</li> </ul>"},{"location":"advanced/memory-and-caching/#data-retention","title":"Data Retention","text":"<ul> <li>Automatic cleanup after retention period</li> <li>Manual clear via workflow dispatch</li> <li>Respects GitHub's data policies</li> </ul>"},{"location":"advanced/memory-and-caching/#clearing-memory","title":"Clearing Memory","text":""},{"location":"advanced/memory-and-caching/#manual-clear","title":"Manual Clear","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    memory-action: 'clear'\n    memory-scope: 'branch'  # or 'repository' or 'workflow'\n</code></pre>"},{"location":"advanced/memory-and-caching/#automatic-cleanup","title":"Automatic Cleanup","text":"<p>Memory is automatically cleaned: - After retention period expires - When branch is deleted (branch-scoped) - When cache size limit is reached (LRU eviction)</p>"},{"location":"advanced/memory-and-caching/#troubleshooting","title":"Troubleshooting","text":""},{"location":"advanced/memory-and-caching/#memory-not-loading","title":"Memory Not Loading","text":"<p>Check: - <code>enable-memory: 'true'</code> is set - Cache permissions are correct - Cache exists (first run won't have memory)</p>"},{"location":"advanced/memory-and-caching/#out-of-date-memory","title":"Out of Date Memory","text":"<p>Clear and rebuild:</p> <pre><code># Via workflow\ngh workflow run clear-memory.yml\n\n# Or disable then re-enable\nenable-memory: 'false'  # One run\nenable-memory: 'true'   # Next run\n</code></pre>"},{"location":"advanced/memory-and-caching/#performance-issues","title":"Performance Issues","text":"<p>Reduce historical data:</p> <pre><code>max-historical-runs: '5'  # Default is 10\nmemory-retention-days: '14'  # Default is 30\n</code></pre>"},{"location":"advanced/memory-and-caching/#future-enhancements","title":"Future Enhancements","text":"<p>Planned features: - Machine learning for pattern detection - Cross-repository insights - Predictive failure analysis - Automatic resolution suggestions based on history - Integration with GitHub Copilot Workspace</p>"},{"location":"advanced/memory-and-caching/#related-documentation","title":"Related Documentation","text":"<ul> <li>Configuration Reference</li> <li>Architecture</li> <li>Custom Prompts</li> </ul>"},{"location":"integrations/copilot/","title":"GitHub Copilot Integration","text":"<p>Supercharge your debugging workflow by combining AI Workflow Failure Summary Action with GitHub Copilot.</p>"},{"location":"integrations/copilot/#overview","title":"Overview","text":"<p>This action generates AI-powered failure analyses that are optimized for GitHub Copilot consumption. The structured output format makes it easy for Copilot to understand the context and provide intelligent suggestions.</p> <pre><code>graph TB\n    A[Workflow Fails] --&gt; B[AI Action Analyzes]\n    B --&gt; C[Structured Summary]\n    C --&gt; D[Posted to Issue/Summary]\n    D --&gt; E[Developer Reviews]\n    E --&gt; F[Ask Copilot for Help]\n    F --&gt; G[Copilot Suggests Fixes]\n    G --&gt; H[Apply &amp; Test]\n    H --&gt; I{Fixed?}\n    I --&gt;|Yes| J[Ship It!]\n    I --&gt;|No| F</code></pre>"},{"location":"integrations/copilot/#how-it-works","title":"How It Works","text":""},{"location":"integrations/copilot/#1-failure-analysis-is-generated","title":"1. Failure Analysis is Generated","text":"<p>When a workflow fails, the action creates a structured summary:</p> <pre><code>## Summary\nTest suite failed due to missing DATABASE_URL environment variable\n\n## Root Cause\nThe integration tests require DATABASE_URL but it's not set in the workflow\n\n## Error Location\n- File: test/integration/db.test.js:15\n- Error: DATABASE_URL is not defined\n\n## Recommended Actions\n1. Add DATABASE_URL to workflow environment\n2. Configure in repository secrets\n...\n</code></pre>"},{"location":"integrations/copilot/#2-copilot-understands-the-context","title":"2. Copilot Understands the Context","text":"<p>GitHub Copilot can read: - \u2705 Issue descriptions created by the action - \u2705 GitHub Actions summary output - \u2705 Structured error details - \u2705 File paths and line numbers - \u2705 Recommended fix actions</p>"},{"location":"integrations/copilot/#3-get-ai-powered-fix-suggestions","title":"3. Get AI-Powered Fix Suggestions","text":"<p>Ask Copilot questions like:</p> <ul> <li>\"Review the latest workflow failure and suggest fixes\"</li> <li>\"Based on the AI analysis, how do I fix the DATABASE_URL error?\"</li> <li>\"Show me how to add environment variables to the workflow\"</li> <li>\"Create a fix for the issue #123 found by AI analysis\"</li> </ul>"},{"location":"integrations/copilot/#usage-patterns","title":"Usage Patterns","text":""},{"location":"integrations/copilot/#in-github-issues","title":"In GitHub Issues","text":"<p>When <code>create-issue: true</code> is enabled, Copilot can read the issue directly:</p> Via Copilot ChatVia Inline ChatVia PR Comments <pre><code>@workspace Review issue #42 and suggest how to fix the test failures\n</code></pre> <p>In VSCode, with the issue open in a browser:</p> <pre><code>Ctrl+I (or Cmd+I): \"Fix the errors described in GitHub issue #42\"\n</code></pre> <p>If the failure is on a PR:</p> <pre><code>@copilot What changes do I need to make based on the AI failure analysis?\n</code></pre>"},{"location":"integrations/copilot/#in-vscode","title":"In VSCode","text":""},{"location":"integrations/copilot/#using-copilot-chat-panel","title":"Using Copilot Chat Panel","text":"<ol> <li>Open Copilot Chat (Ctrl+Shift+I / Cmd+Shift+I)</li> <li>Reference the analysis:</li> </ol> <pre><code>@workspace The CI workflow failed with error in src/api/handler.ts\nThe AI analysis says there's a type mismatch. Can you show me the fix?\n</code></pre>"},{"location":"integrations/copilot/#using-inline-suggestions","title":"Using Inline Suggestions","text":"<p>With the analyzed file open:</p> <pre><code>// Copilot will suggest fixes based on:\n// - The error location from AI analysis\n// - The recommended actions\n// - Your existing code context\n</code></pre>"},{"location":"integrations/copilot/#in-github-web-ui","title":"In GitHub Web UI","text":""},{"location":"integrations/copilot/#reviewing-prs","title":"Reviewing PRs","text":"<ol> <li>PR fails and AI analysis runs</li> <li>Analysis posted as comment or issue</li> <li>Review the analysis in the PR</li> <li>Ask Copilot: <code>@github-copilot[bot] suggest fixes for these failures</code></li> </ol>"},{"location":"integrations/copilot/#in-actions-tab","title":"In Actions Tab","text":"<ol> <li>Navigate to failed workflow run</li> <li>View AI summary in the run summary</li> <li>Copy relevant parts to Copilot</li> <li>Get contextual help</li> </ol>"},{"location":"integrations/copilot/#optimizing-for-copilot","title":"Optimizing for Copilot","text":""},{"location":"integrations/copilot/#use-structured-output","title":"Use Structured Output","text":"<p>Ensure your custom prompts produce Copilot-friendly output:</p> .github/prompts/copilot-optimized.md<pre><code>Format your analysis for GitHub Copilot:\n\n1. **Use Precise File References**: Always include full paths\n   - Good: `src/components/Button.tsx:45`\n   - Bad: \"in the Button component\"\n\n2. **Include Code Snippets**: Show the problematic code\n   ```typescript\n   // Current (broken):\n   const result = await fetch(url)\n\n   // Should be:\n   const result = await fetch(url).then(r =&gt; r.json())\n   ```\n\n3. **Provide Diff Format**: Show exact changes needed\n   ```diff\n   - const API_URL = undefined\n   + const API_URL = process.env.REACT_APP_API_URL\n   ```\n\n4. **Link Documentation**: Include relevant doc URLs\n   - [React Hooks Docs](https://react.dev/reference/react)\n   - [TypeScript Handbook](https://www.typescriptlang.org/docs/)\n\n5. **Use Consistent Formatting**:\n   - Headers: ## Summary, ## Root Cause, etc.\n   - Lists: Numbered for steps, bullets for items\n   - Code blocks: Always specify language\n</code></pre>"},{"location":"integrations/copilot/#create-copilot-workspace-context","title":"Create Copilot Workspace Context","text":"<p>Add a <code>.github/copilot-instructions.md</code> file (if supported):</p> .github/copilot-instructions.md<pre><code># Copilot Context for This Repository\n\n## Tech Stack\n- Node.js 20+\n- React 18 with TypeScript\n- Jest for testing\n- GitHub Actions for CI/CD\n\n## Common CI/CD Issues\nWhen helping with workflow failures:\n1. Check .github/workflows/ for workflow definitions\n2. Review package.json for scripts and dependencies\n3. Look at test files in __tests__/\n4. Consider environment variables in .env.example\n\n## Our Coding Standards\n- TypeScript strict mode enabled\n- All components must have tests\n- Use async/await over promises\n- Follow ESLint configuration\n\nWhen the AI Failure Analysis action identifies an issue,\nprovide fixes that match these standards.\n</code></pre>"},{"location":"integrations/copilot/#example-workflows","title":"Example Workflows","text":""},{"location":"integrations/copilot/#full-integration-example","title":"Full Integration Example","text":".github/workflows/ai-copilot-integration.yml<pre><code>name: CI with AI and Copilot Integration\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n      - run: npm ci\n      - run: npm test\n\n  ai-analysis:\n    runs-on: ubuntu-latest\n    if: failure()\n    needs: [test]\n    permissions:\n      actions: read\n      contents: read\n      issues: write\n      pull-requests: write\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Analyze with AI\n        id: analyze\n        uses: ianlintner/ai_summary_action@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n          create-issue: 'true'\n          custom-system-prompt: '.github/prompts/copilot-optimized.md'\n\n      - name: Comment on PR\n        if: github.event_name == 'pull_request'\n        uses: actions/github-script@v7\n        with:\n          script: |\n            const summary = `## \ud83e\udd16 AI Failure Analysis\n\n            ${process.env.ANALYSIS_SUMMARY}\n\n            ### \ud83d\udca1 Next Steps\n            Ask @github-copilot[bot] to help fix these issues:\n            - \"Suggest fixes for the errors in this PR\"\n            - \"Explain the root cause and show me how to fix it\"\n            - \"Update the tests based on this analysis\"\n            `;\n\n            github.rest.issues.createComment({\n              issue_number: context.issue.number,\n              owner: context.repo.owner,\n              repo: context.repo.repo,\n              body: summary\n            });\n        env:\n          ANALYSIS_SUMMARY: ${{ steps.analyze.outputs.summary }}\n</code></pre>"},{"location":"integrations/copilot/#copilot-prompts-library","title":"Copilot Prompts Library","text":""},{"location":"integrations/copilot/#general-debugging","title":"General Debugging","text":"<pre><code>@workspace Review the latest AI workflow failure analysis and:\n1. Identify all files that need changes\n2. Suggest specific code fixes\n3. Explain why the error occurred\n4. Help me write tests to prevent this\n</code></pre>"},{"location":"integrations/copilot/#test-failures","title":"Test Failures","text":"<pre><code>The AI analysis shows test failures in [file]. \n@workspace Can you:\n- Fix the failing tests\n- Explain what changed\n- Suggest additional test cases\n</code></pre>"},{"location":"integrations/copilot/#build-errors","title":"Build Errors","text":"<pre><code>@workspace The build failed with errors in [files].\nBased on the AI analysis:\n1. Show me the exact changes needed\n2. Update the relevant files\n3. Explain the root cause\n</code></pre>"},{"location":"integrations/copilot/#dependency-issues","title":"Dependency Issues","text":"<pre><code>@workspace The AI analysis identified dependency conflicts.\nHelp me:\n- Understand which packages are incompatible\n- Suggest compatible versions\n- Update package.json accordingly\n</code></pre>"},{"location":"integrations/copilot/#advanced-integration","title":"Advanced Integration","text":""},{"location":"integrations/copilot/#custom-copilot-actions","title":"Custom Copilot Actions","text":"<p>Create a custom Copilot action for your repository:</p> .github/copilot/actions.json<pre><code>{\n  \"actions\": [\n    {\n      \"name\": \"Fix CI Failure\",\n      \"description\": \"Analyze and fix the latest CI failure using AI insights\",\n      \"steps\": [\n        \"Read the latest AI failure analysis issue\",\n        \"Identify files that need changes\",\n        \"Generate fixes based on recommendations\",\n        \"Create a PR with the fixes\"\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"integrations/copilot/#workspace-extensions","title":"Workspace Extensions","text":"<p>Use VSCode extensions to enhance integration:</p> .vscode/settings.json<pre><code>{\n  \"github.copilot.advanced\": {\n    \"inlineSuggestEnable\": true,\n    \"enableAutoCompletions\": true\n  },\n  \"github.copilot.enable\": {\n    \"*\": true,\n    \"yaml\": true,\n    \"markdown\": true\n  }\n}\n</code></pre>"},{"location":"integrations/copilot/#best-practices","title":"Best Practices","text":""},{"location":"integrations/copilot/#do","title":"\u2705 Do","text":"<ol> <li>Enable Issue Creation: Makes it easy for Copilot to reference</li> <li>Use Clear File Paths: Help Copilot find the right files</li> <li>Include Code Snippets: Show Copilot what's wrong</li> <li>Add Context: Explain your tech stack in prompts</li> <li>Link Documentation: Help Copilot reference correct docs</li> </ol>"},{"location":"integrations/copilot/#dont","title":"\u274c Don't","text":"<ol> <li>Don't Use Vague Errors: Be specific in analysis</li> <li>Don't Skip Line Numbers: Copilot needs precise locations</li> <li>Don't Mix Issues: One analysis per failure type</li> <li>Don't Ignore Copilot Limits: Keep context reasonable</li> </ol>"},{"location":"integrations/copilot/#troubleshooting","title":"Troubleshooting","text":"<p>Copilot not understanding the analysis? - Ensure output is in markdown format - Use clear headers and sections - Include file paths and line numbers - Try more structured prompts</p> <p>Copilot suggestions not relevant? - Add more context to custom prompts - Reference specific files in questions - Include tech stack details - Use <code>@workspace</code> scope in questions</p> <p>Can't reference issues? - Make sure issue creation is enabled - Check issue permissions in workflow - Verify issue is public (or you have access)</p>"},{"location":"integrations/copilot/#real-world-example","title":"Real-World Example","text":"<p>Here's a complete flow from failure to fix:</p> <ol> <li>Workflow fails in PR #123</li> <li>AI Action analyzes, creates issue #456</li> <li>Developer reviews issue in VSCode</li> <li>Asks Copilot:     <pre><code>@workspace Review issue #456 and fix the test failures in src/api/users.test.ts\n</code></pre></li> <li>Copilot suggests:    <pre><code>// Fix the mock implementation\n- jest.mock('../db', () =&gt; ({ query: jest.fn() }));\n+ jest.mock('../db', () =&gt; ({ \n+   query: jest.fn().mockResolvedValue([{ id: 1, name: 'Test' }])\n+ }));\n</code></pre></li> <li>Developer applies the fix</li> <li>Push &amp; verify tests pass \u2705</li> </ol>"},{"location":"integrations/copilot/#resources","title":"Resources","text":"<ul> <li>GitHub Copilot Documentation</li> <li>Copilot for Business</li> <li>VSCode Copilot Extension</li> <li>Copilot Chat</li> </ul>"},{"location":"integrations/copilot/#next-steps","title":"Next Steps","text":"<ul> <li>Custom Prompts for Better Integration</li> <li>VSCode Setup</li> <li>CI/CD Patterns</li> </ul>"},{"location":"usage/custom-prompts/","title":"Custom Prompts","text":"<p>Customize how the AI analyzes your workflow failures by providing custom prompts. This allows you to tailor the analysis to your specific needs, tech stack, and team preferences.</p>"},{"location":"usage/custom-prompts/#overview","title":"Overview","text":"<p>The action uses two types of prompts:</p> <ol> <li>System Prompt: Defines the AI's role, expertise, and output format</li> <li>User Prompt: Provides the actual logs and specific analysis request</li> </ol> <p>Both can be customized either inline or via files in your repository.</p>"},{"location":"usage/custom-prompts/#quick-start","title":"Quick Start","text":""},{"location":"usage/custom-prompts/#using-file-based-prompts","title":"Using File-Based Prompts","text":"<ol> <li>Create prompt files in your repository:</li> </ol> <pre><code>mkdir -p .github/prompts\n</code></pre> <ol> <li>Add your custom prompts:</li> </ol> .github/prompts/system-prompt.md<pre><code>You are a senior Python engineer specializing in Django applications.\nAnalyze workflow failures with focus on:\n- Database migration issues\n- Django ORM errors\n- Python dependency conflicts\n- Test failures in pytest\n\nProvide detailed, beginner-friendly explanations.\n</code></pre> <ol> <li>Reference in your workflow:</li> </ol> <pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n    custom-system-prompt: '.github/prompts/system-prompt.md'\n</code></pre>"},{"location":"usage/custom-prompts/#using-inline-prompts","title":"Using Inline Prompts","text":"<pre><code>- uses: ianlintner/ai_summary_action@v1\n  with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n    custom-system-prompt: |\n      You are a Node.js expert. Focus on npm/yarn issues,\n      async/await problems, and Jest test failures.\n</code></pre>"},{"location":"usage/custom-prompts/#default-prompts","title":"Default Prompts","text":""},{"location":"usage/custom-prompts/#default-system-prompt","title":"Default System Prompt","text":"<pre><code>You are an expert DevOps engineer analyzing GitHub Actions workflow failures. \nYour task is to analyze the provided workflow logs and provide a clear, \nactionable summary that helps developers quickly understand and fix the issues.\n\nFocus on:\n1. Root cause of the failure\n2. Specific error messages and their meaning\n3. Actionable steps to fix the issue\n4. Related code files or dependencies mentioned in the logs\n\nFormat your response in Markdown with clear sections:\n- **Summary**: Brief overview of what went wrong\n- **Root Cause**: Technical explanation of the failure\n- **Error Details**: Key error messages and their locations\n- **Recommended Actions**: Step-by-step fix suggestions\n- **Additional Context**: Any relevant information\n\nBe concise but thorough. Focus on what developers need to know to fix the issue.\n</code></pre>"},{"location":"usage/custom-prompts/#default-user-prompt","title":"Default User Prompt","text":"<pre><code>Analyze the following failed GitHub Actions workflow jobs and provide \na comprehensive summary:\n\n{{FAILED_JOBS}}\n\nPlease provide your analysis in the format specified in the system prompt.\n</code></pre>"},{"location":"usage/custom-prompts/#template-variables","title":"Template Variables","text":"<p>In the user prompt, you can use these variables:</p> <ul> <li><code>{{FAILED_JOBS}}</code>: Replaced with formatted job logs and error information</li> </ul>"},{"location":"usage/custom-prompts/#prompt-examples","title":"Prompt Examples","text":""},{"location":"usage/custom-prompts/#security-focused-analysis","title":"Security-Focused Analysis","text":".github/prompts/security-analysis.md<pre><code>You are a security engineer analyzing CI/CD failures.\n\nPriority focus areas:\n1. **Secret Exposure**: Check if any secrets were accidentally logged\n2. **Dependency Vulnerabilities**: Identify security issues in dependencies\n3. **Permission Errors**: Analyze authentication and authorization failures\n4. **Supply Chain**: Look for suspicious package installations\n\nFormat:\n- **Security Impact**: Severity and potential risks\n- **Immediate Actions**: Critical fixes needed\n- **Long-term Recommendations**: Security improvements\n</code></pre>"},{"location":"usage/custom-prompts/#performance-focused-analysis","title":"Performance-Focused Analysis","text":".github/prompts/performance-analysis.md<pre><code>You are a performance engineer analyzing slow or timeout failures.\n\nAnalyze for:\n1. **Timeout Issues**: Identify operations exceeding time limits\n2. **Resource Constraints**: Memory, CPU, or disk space issues\n3. **Inefficient Operations**: Slow database queries, API calls\n4. **Optimization Opportunities**: Caching, parallelization\n\nSuggest:\n- Quick wins for immediate improvement\n- Long-term architectural changes\n</code></pre>"},{"location":"usage/custom-prompts/#beginner-friendly-analysis","title":"Beginner-Friendly Analysis","text":".github/prompts/beginner-friendly.md<pre><code>You are a patient mentor helping junior developers understand CI failures.\n\nRequirements:\n1. **Explain Simply**: Avoid jargon, explain technical terms\n2. **Provide Context**: Why did this fail? What should happen?\n3. **Step-by-Step Fixes**: Detailed instructions with examples\n4. **Learning Resources**: Links to docs, tutorials, examples\n5. **Prevention Tips**: How to avoid this in the future\n\nUse analogies and be encouraging!\n</code></pre>"},{"location":"usage/custom-prompts/#languageframework-specific","title":"Language/Framework-Specific","text":"Python/DjangoNode.js/ReactGoJava/Spring <pre><code>You are a Python expert specializing in Django applications.\n\nFocus areas:\n- Django ORM and migration issues\n- pytest failures and fixtures\n- Virtual environment problems\n- pip/poetry dependency conflicts\n- Celery/async task issues\n\nReference Django documentation when relevant.\n</code></pre> <pre><code>You are a Node.js and React specialist.\n\nFocus areas:\n- npm/yarn/pnpm dependency issues\n- Jest/Vitest test failures\n- Build errors (webpack, vite, next.js)\n- TypeScript compilation errors\n- ESLint/Prettier issues\n\nSuggest modern best practices.\n</code></pre> <pre><code>You are a Go expert analyzing build and test failures.\n\nFocus areas:\n- Module dependency issues (go.mod)\n- Test failures and race conditions\n- Build errors and compilation issues\n- golangci-lint problems\n- Cross-compilation issues\n\nReference Go best practices and idioms.\n</code></pre> <pre><code>You are a Java engineer specializing in Spring Boot.\n\nFocus areas:\n- Maven/Gradle build failures\n- JUnit/TestNG test issues\n- Spring context problems\n- Dependency injection errors\n- Database connection issues\n\nReference Spring documentation.\n</code></pre>"},{"location":"usage/custom-prompts/#advanced-techniques","title":"Advanced Techniques","text":""},{"location":"usage/custom-prompts/#multi-stage-analysis","title":"Multi-Stage Analysis","text":"<p>Create different prompts for different scenarios:</p> <pre><code>jobs:\n  analyze-tests:\n    if: contains(github.event.workflow_run.name, 'Test')\n    steps:\n      - uses: ianlintner/ai_summary_action@v1\n        with:\n          custom-system-prompt: '.github/prompts/test-analysis.md'\n\n  analyze-builds:\n    if: contains(github.event.workflow_run.name, 'Build')\n    steps:\n      - uses: ianlintner/ai_summary_action@v1\n        with:\n          custom-system-prompt: '.github/prompts/build-analysis.md'\n</code></pre>"},{"location":"usage/custom-prompts/#team-specific-prompts","title":"Team-Specific Prompts","text":".github/prompts/team-backend.md<pre><code>You are analyzing failures for the Backend Team.\n\nContext:\n- We use Python 3.11+ with FastAPI\n- PostgreSQL 15 database\n- Redis for caching\n- Our code style: PEP 8, type hints required\n- We prefer pytest with async fixtures\n\nLink to our runbooks: https://wiki.company.com/backend/runbooks\n</code></pre>"},{"location":"usage/custom-prompts/#output-format-customization","title":"Output Format Customization","text":"<pre><code>Format your response as JSON:\n\n{\n  \"severity\": \"critical|high|medium|low\",\n  \"category\": \"build|test|deploy|integration\",\n  \"root_cause\": \"brief explanation\",\n  \"error_location\": \"file:line\",\n  \"fix_steps\": [\"step 1\", \"step 2\"],\n  \"estimated_time\": \"minutes to fix\"\n}\n</code></pre>"},{"location":"usage/custom-prompts/#best-practices","title":"Best Practices","text":""},{"location":"usage/custom-prompts/#do","title":"\u2705 Do","text":"<ul> <li>Be Specific: Tailor to your exact tech stack</li> <li>Include Context: Mention your team's standards and preferences  </li> <li>Request Structure: Specify exactly how you want output formatted</li> <li>Add Examples: Show the AI what good output looks like</li> <li>Iterate: Refine prompts based on results</li> </ul>"},{"location":"usage/custom-prompts/#dont","title":"\u274c Don't","text":"<ul> <li>Over-Complicate: Keep prompts focused and clear</li> <li>Include Secrets: Never put sensitive data in prompt files</li> <li>Make Too Long: Very long prompts can reduce quality</li> <li>Ignore Defaults: Default prompts are well-tested, start there</li> </ul>"},{"location":"usage/custom-prompts/#testing-your-prompts","title":"Testing Your Prompts","text":"<p>Create a test workflow to validate prompts:</p> .github/workflows/test-prompts.yml<pre><code>name: Test Custom Prompts\n\non:\n  workflow_dispatch:\n\njobs:\n  fail-intentionally:\n    runs-on: ubuntu-latest\n    steps:\n      - run: echo \"Testing custom prompts\" &amp;&amp; exit 1\n\n  analyze-with-custom:\n    runs-on: ubuntu-latest\n    if: failure()\n    needs: [fail-intentionally]\n    steps:\n      - uses: actions/checkout@v4\n      - uses: ianlintner/ai_summary_action@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          openai-api-key: ${{ secrets.OPENAI_API_KEY }}\n          custom-system-prompt: '.github/prompts/system-prompt.md'\n</code></pre>"},{"location":"usage/custom-prompts/#prompt-library","title":"Prompt Library","text":"<p>See our Examples page for a collection of ready-to-use prompts for common scenarios.</p>"},{"location":"usage/custom-prompts/#github-copilot-integration","title":"GitHub Copilot Integration","text":"<p>Custom prompts work great with GitHub Copilot. Use output format that Copilot can easily parse:</p> <pre><code>Structure your analysis for GitHub Copilot consumption:\n\n1. Use clear markdown headers\n2. Include file paths and line numbers\n3. Provide code snippets with proper syntax highlighting\n4. Link to relevant documentation\n5. Suggest specific code changes in diff format\n</code></pre> <p>Then ask Copilot: \"Based on the AI failure analysis, suggest fixes for the failed tests\"</p>"},{"location":"usage/custom-prompts/#troubleshooting","title":"Troubleshooting","text":"<p>Prompt not loading? - Check file path is correct relative to repository root - Ensure file has <code>.md</code> or <code>.txt</code> extension - Verify file is committed to the repository</p> <p>Poor quality analysis? - Prompts may be too vague - add more specifics - Try using a more powerful model - Increase <code>max-log-lines</code> for more context - Review default prompts for ideas</p> <p>Getting errors? - Ensure prompts don't exceed model context limits - Check for special characters that need escaping - Validate prompt file is valid UTF-8</p>"},{"location":"usage/custom-prompts/#next-steps","title":"Next Steps","text":"<ul> <li>View Example Prompts</li> <li>Learn About LLM Providers</li> <li>Integration with Copilot</li> </ul>"}]}